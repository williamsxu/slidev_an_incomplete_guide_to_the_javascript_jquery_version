"use strict";Object.defineProperty(exports, "__esModule", {value: true}); function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _chunkZ4FJXSGOjs = require('./chunk-Z4FJXSGO.js');


var _chunkPZ3KAP26js = require('./chunk-PZ3KAP26.js');
require('./chunk-GMAU6NZD.js');

// src/resolver.ts
var _utils = require('@antfu/utils');
var _json = require('@iconify/json'); var _json2 = _interopRequireDefault(_json);
function ComponentsResolver(options = {}) {
  var _a;
  const {
    prefix: rawPrefix = (_a = options.componentPrefix) != null ? _a : "i",
    enabledCollections = Object.keys(_json2.default.collections()),
    alias = {},
    customCollections = [],
    extension
  } = options;
  const prefix = rawPrefix ? `${_chunkPZ3KAP26js.camelToKebab.call(void 0, rawPrefix)}-` : "";
  const ext = extension ? extension.startsWith(".") ? extension : `.${extension}` : "";
  const collections = _utils.uniq.call(void 0, [
    ..._utils.toArray.call(void 0, enabledCollections),
    ..._utils.toArray.call(void 0, customCollections),
    ..._utils.toArray.call(void 0, Object.keys(alias))
  ]);
  collections.sort((a, b) => b.length - a.length);
  return (name) => {
    const kebab = _chunkPZ3KAP26js.camelToKebab.call(void 0, name);
    if (!kebab.startsWith(prefix))
      return;
    const slice = kebab.slice(prefix.length);
    const collection = collections.find((i) => slice.startsWith(`${i}-`)) || collections.find((i) => slice.startsWith(i));
    if (!collection)
      return;
    let icon = slice.slice(collection.length);
    if (icon[0] === "-")
      icon = icon.slice(1);
    if (!icon)
      return;
    const resolvedCollection = alias[collection] || collection;
    if (!customCollections.includes(resolvedCollection) && !_chunkZ4FJXSGOjs.getBuiltinIcon.call(void 0, resolvedCollection, icon))
      return;
    return `~icons/${resolvedCollection}/${icon}${ext}`;
  };
}


module.exports = ComponentsResolver;
exports.default = module.exports;